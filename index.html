<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>WHITE BOX — Story</title>
  <link rel="icon" type="image/png" href="pp.png">
  <style>
  @font-face {
    font-family: 'NeoDunggeunmo';
    src: url('./NeoDunggeunmoPro-Regular.ttf') format('truetype');
    font-weight: 400; font-style: normal; font-display: swap;
  }
  :root{
    --font:'NeoDunggeunmo', ui-monospace, monospace;
    --bg:#000; --txt:#e9ecef; --mut:#9aa0a6;
    --panel:#0a0b0d; --panel2:#0f1013; --line:#2a2d33;
    --red:#ff2f3e; --red2:#3a0a0f; --maxw:1000px;
  }
  *{box-sizing:border-box} html,body{height:100%}
  body{margin:0;background:var(--bg);color:var(--txt);font-family:var(--font);line-height:1.6;font-size:14px}

  /* === SPLASH === */
  #splash{position:fixed; inset:0; z-index:9999; background:#000; display:grid; place-items:center; font-family:var(--font)}
  #splash.hide{ opacity:0; transition:opacity .35s ease; pointer-events:none; } /* 페이드아웃 */
  .sp-frame{width:min(920px,96vw); border:2px solid #F25555; border-radius:14px; padding:18px; background:#000; box-shadow:0 0 22px rgba(0,0,0,.5), inset 0 0 20px rgba(0,0,0,.35)}
  .sp-brand{font-size:40px; color:#F25555; text-align:center; text-shadow:0 0 8px rgba(242,85,85,.45), 0 0 14px rgba(255,210,210,.25)}
  .sp-sub{color:#E08A8A; text-align:center; margin:4px 0 10px; animation:softBlink 7s steps(30,end) infinite; font-size:13px}
  .sp-hud{display:flex; gap:12px; justify-content:space-between; flex-wrap:wrap; border:2px solid #F25555; border-radius:10px; padding:8px 10px; margin:8px 0 12px; color:#ffdcdc; font-size:12px}
  .sp-panel{border:2px solid #F25555; border-radius:12px; padding:14px}
  .sp-stage{font-size:24px; text-align:center; color:#F25555}
  .sp-pct{color:#E08A8A; text-align:center; margin-bottom:6px; font-size:13px}
  .sp-meter{height:14px; border:2px solid #F25555; border-radius:10px; overflow:hidden}
  .sp-meter>i{display:block; height:100%; width:0%; background:linear-gradient(90deg,#E04B4B,#F25555)}
  .sp-log{font-size:13px; background:#000; border:1px dashed rgba(242,85,85,.35); border-radius:10px; padding:10px; min-height:70px; color:#ffdcdc; animation:crtFlicker 4.5s steps(40,end) infinite}
  .sp-log::after{content:"▎"; margin-left:6px; color:#ffdcdc; animation:softBlink 1.2s steps(2,end) infinite}
  @keyframes softBlink{0%,92%,100%{opacity:1;filter:brightness(1)} 94%{opacity:.92;filter:brightness(.98)} 96%{opacity:.85;filter:brightness(.96)} 98%{opacity:.95;filter:brightness(.99)}}
  @keyframes crtFlicker{0%{opacity:.96;filter:saturate(1)} 50%{opacity:.93;filter:saturate(1.03)} 100%{opacity:.96;filter:saturate(1)}}

  /* ===== TOP NAV ===== */
  header{position:sticky;top:0;z-index:10;background:linear-gradient(#19080b,#120508);border-bottom:1px solid var(--red2);padding:8px 12px;box-shadow:inset 0 -2px 0 0 #000}
  .top{max-width:var(--maxw);margin:0 auto;display:flex;align-items:center;justify-content:space-between;gap:10px}
  h1{margin:0;color:#fff;font-size:16px;letter-spacing:.25px}
  nav{display:flex;gap:8px}
  .btn{appearance:none;border:1px solid var(--red2);background:linear-gradient(#16060a,#100408);color:#fff;padding:6px 10px;border-radius:8px;cursor:pointer;font-size:12px;text-decoration:none;box-shadow:inset 0 0 0 2px #000}

  /* ===== LAYOUT & CARDS ===== */
  .wrap{max-width:var(--maxw);margin:0 auto;padding:16px;display:grid;gap:18px}
  .section{background:linear-gradient(180deg,var(--panel2),var(--panel));border:1px solid var(--line);border-radius:14px;padding:14px 14px 16px;box-shadow:inset 0 0 0 2px #000}
  .sec-title{margin:0 0 12px;font-size:15px;color:#fff;display:flex;align-items:center;gap:8px;padding-bottom:8px;border-bottom:1px dashed #252831}
  .pb{width:14px;height:14px;border-radius:50%;position:relative;display:inline-block;background:linear-gradient(#e33 0 50%,#fff 50% 100%);border:1px solid #000}
  .pb::before{content:"";position:absolute;left:-1px;right:-1px;top:calc(50% - 1px);height:2px;background:#000}
  .pb::after{content:"";position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:6px;height:6px;background:#bbb;border:2px solid #000;border-radius:50%}

  .grid-p{display:grid;grid-template-columns:150px 1fr;gap:14px;align-items:start}
  @media(max-width:720px){.grid-p{grid-template-columns:1fr}}
  .profile-left{display:flex;flex-direction:column;align-items:center;gap:10px}
  .avatar{width:100%;aspect-ratio:1/1;border:1px solid var(--line);border-radius:12px;background:#07080a;display:grid;place-items:center;overflow:hidden;box-shadow:inset 0 0 0 2px #000}
  .avatar img{width:100%;height:100%;object-fit:cover}

  /* pill row */
  .pill-row{display:flex;flex-wrap:wrap;gap:6px 8px;margin-bottom:8px}
  .pill{display:inline-flex;gap:6px;align-items:center;padding:3px 8px 4px;border:1px solid rgba(255,120,120,.5);background:rgba(255,47,62,.12);border-radius:999px;font-size:11px;color:#ffd7dc;width:max-content;box-shadow:inset 0 0 0 2px #000}
  .pill.empty{min-width:28px;min-height:18px}

  .grid-s{display:grid;grid-template-columns:1.15fr .85fr;gap:14px}
  @media(max-width:900px){.grid-s{grid-template-columns:1fr}}

  .card{border:1px solid var(--line);border-radius:12px;background:#0b0d12;padding:12px;box-shadow:inset 0 0 0 2px #000}
  .card h3{margin:0 0 8px}

  /* === 대사창 === */
  .dialog{position:relative;padding:12px 14px 14px;background:linear-gradient(180deg,#101217,#0b0d12);border:1.5px solid #e9ecef;border-radius:0;box-shadow:inset 0 0 0 2px #000,0 0 0 2px #000;font-size:14px}
  .dialog[data-speaker]::before{content:attr(data-speaker);position:absolute;top:-11px;left:12px;font-size:11px;color:#000;background:#e9ecef;border:2px solid #000;border-radius:6px;padding:0 6px;line-height:16px;height:16px}
  .dialog .tri{position:absolute;right:10px;bottom:8px;font-size:14px;line-height:1;color:#ff2f3e}

  /* 타입칩 */
  .chipset{display:flex;gap:6px 8px;flex-wrap:wrap}
  .type{font-size:10px;padding:0 6px;line-height:1.4;display:inline-flex;align-items:center;justify-content:center;border:1px solid #303643;background:#0c0e12;color:#eaeaea;border-radius:999px}
  .t-normal{background:#A8A77A;color:#111;border-color:#8a8b5f}
  .t-ghost{background:#735797;color:#fff;border-color:#5c467a}

  /* 포켓몬 이미지 */
  .spec{display:grid;grid-template-rows:240px auto;gap:10px}
  .spec-fig{position:relative;border:1px solid #22272f;border-radius:12px;background:#06070a;display:grid;place-items:center;overflow:hidden;box-shadow:inset 0 0 0 2px #000}
  .spec-fig img{max-width:100%;max-height:100%;object-fit:contain;filter:drop-shadow(0 2px 6px rgba(0,0,0,.35))}

  /* ===== BGM 버튼 ===== */
  .music-btn{
    appearance:none; cursor:pointer;
    display:inline-flex; align-items:center; justify-content:center; gap:6px;
    padding:8px 18px;
    border:1px solid #666; background:#222; color:#e0e0e0;
    font-size:12px; font-weight:bold; border-radius:6px;
    box-shadow:inset 0 0 0 2px #000; transition:background .25s,color .25s,border-color .25s;
  }
  .music-btn:hover{ background:#333; color:#fff; border-color:#888; }
  .music-btn svg{width:14px;height:14px;fill:currentColor}

  /* ===== 선택지 스타일 & 붉은 ▶ ===== */
  .choices{margin-top:10px;display:grid;gap:8px}
  .choice{display:flex;gap:8px;align-items:flex-start;padding:8px;border:1px solid var(--line);border-radius:8px;background:#0b0d12}
  .arrow{color:var(--red);margin-top:2px;font-weight:bold}
  .arrow::before{content:"▶";}
  .muted{color:var(--mut)}
  </style>
</head>
<body>
<!-- Splash -->
<section id="splash" aria-hidden="true">
  <div class="sp-frame">
    <div class="sp-brand">WHITE BOX</div>
    <div class="sp-sub">POKÉMON BOX – RESEARCH DATA ARCHIVE</div>
    <div class="sp-hud">
      <div>PROJECT: POKÉMON BOX</div>
      <div>RESEARCHER: WHITE</div>
      <div>STATUS: ONLINE</div>
    </div>
    <div class="sp-panel">
      <div class="sp-stage" id="sp-stage">INITIALIZING</div>
      <div class="sp-pct" id="sp-pct">0%</div>
      <div class="sp-meter"><i id="sp-bar"></i></div>
      <div class="sp-log" id="sp-log">&gt; Opening Pokémon Box…</div>
    </div>
  </div>
</section>

<header>
  <div class="top">
    <h1>WHITE — Story</h1>
    <nav>
      <a class="btn" href="./index.html" aria-current="page">스토리</a>
      <a class="btn" href="./box/">포켓몬 박스</a>
    </nav>
  </div>
</header>

<main class="wrap">
  <!-- 프로필 -->
  <section class="section">
    <h2 class="sec-title"><span class="pb"></span>WHITE / 29 (BW)</h2>
    <div class="grid-p">
      <div class="profile-left">
        <div class="avatar">
          <img src="www.png" alt="연구원 화이트 사진" onerror="this.onerror=null;this.src='pp.png'">
        </div>
        <!-- 중앙 재생 버튼 -->
        <div class="music-wrap">
          <button id="music-btn" type="button" class="music-btn" aria-pressed="false" aria-controls="bgm" title="배경음악 재생/일시정지">
            <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M8 5v14l11-7z"/></svg>
            <span>BGM</span>
          </button>
        </div>
        <audio id="bgm" preload="metadata">
          <source src="mt-moon.mp3" type="audio/mpeg">
          <!-- 필요하면 ogg 추가 -->
        </audio>
      </div>

      <div>
        <!-- Pill 4개 (가변 내용) -->
        <div class="pill-row">
          <span class="pill">자칭 연구원</span>
          <span class="pill empty">포켓몬 유전자 공학</span>
          <span class="pill empty">포켓몬 인공 진화</span>
          <span class="pill empty">쌍용시티 출신</span>
        </div>

        <div class="card" style="margin-top:4px">
          <h3>연구원 화이트</h3>
          <ul>
            <li>“진정한 유대는 포켓몬과의 감정교류가 아닌 유전자 프로그래밍에서 비롯됩니다”</li>
            <li>플레이어에게 조로아를 증정하고 떠나는 NPC.</li>
            <li>포켓몬의 유전자를 불법 조작하다 쫓겨난 연구원. 뮤를 이용한 복제·강화 실험에 관여했다는 소문이 돈다.</li>
            <li>한때는 진화 연구의 선구자로 명성을 떨쳤지만, 지금은 학계와 포켓몬 리그에서 제명당한 과거 인물일 뿐…</li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <!-- 스토리 -->
  <section class="section">
    <h2 class="sec-title"><span class="pb"></span>스토리</h2>
    <div class="grid-s">
      <div class="card">
        <div class="dialog" data-speaker="WHITE">
          <p>“괜찮다면 당신의 포켓몬을 <b>완벽하게</b> 해 드리죠.”</p>
          <span class="tri">▼</span>
        </div>

        <!-- 선택지 -->
        <div class="choices">
          <p class="choices-intro">
            블랙시티에서 조우 가능하다. 대사는 당신의 포켓몬을 '건강하게' 해드리죠의 패러디. 플레이어에게 파트너 포켓몬을 강화해 주겠다고 제안하며 이벤트가 시작된다.
          </p>
          <div class="choice">
            <span class="arrow"></span>
            <div><b>수락한다</b><br>스타팅 포켓몬을 넘겨주는 대가로 70,000원을 받고 이벤트가 종료.</div>
          </div>
          <div class="choice">
            <span class="arrow"></span>
            <div><b>거절한다</b><br>플레이어의 뒤를 몰래 따라다니며 무언가를 관찰하는 모습을 보인다.</div>
          </div>
        </div>

        <!-- 선택지 밖으로 분리한 추가 설명 -->
        <p class="muted" style="margin-top:10px">
          이후 화이트는 각종 유전자 조작으로 레벨을 한계치까지 올린 포켓몬들로 승부를 걸어오지만 확정 패배한다.  
          이후 “진정한 유대는 진심에서 비롯되는 걸까요…”라는 대사와 함께,
          자신이 실험용으로 길러온 조로아를 플레이어에게 건넨다.
        </p>
      </div>

      <div class="card spec">
        <div class="spec-fig">
          <img src="zzz.png" alt="히스이 조로아크" onerror="this.onerror=null;this.src='i.png'">
        </div>
        <div>
          <p>블랙시티에서 특정 이벤트를 통해 <b>연구원 화이트</b>에게서 받을 수 있다. 화이트의 어린 시절을 흉내 내고 있다. 망토를 깊게 눌러쓴 모습과 표정에서 과거를 어느 정도 짐작할 수 있다.</p>
          <div class="chipset" style="margin:6px 0">
            <span class="type t-normal">노말</span>
            <span class="type t-ghost">고스트</span>
          </div>
          <p class="muted">일루전 : 배틀 등장 시 상대 포켓몬의 외형을 모방한다.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- 에필로그 -->
  <section class="section">
    <h2 class="sec-title"><span class="pb"></span>에필로그</h2>
    <div class="card">
      <p>다음 시즌인 B·W 2에서 화이트를 다시 만나 그동안 키운 조로아/조로아크를 돌려줄 수 있다.</p>
      <p>이제는 실험대상이 아닌 ‘파트너’로 잘 키워보겠다며 고맙다는 인사와 함께 퇴장. 받는 건 없지만 플레이어는 기분이 룽해진다. (…) </p>
      <p class="muted">* 포켓몬 시리즈의 본질은 <q>좋아하는 포켓몬과 함께 모험을 한다</q>에 있지만, 스칼렛/바이올렛 출시 이후 좋은 개체치를 가진 포켓몬만 육성하고 나머지는 방출하는 행위가 반복되며 이벤트가 다시금 재조명받게 된다.</p>
    </div>
  </section>
</main>

<!-- 로딩 스크립트 -->
<script>
document.addEventListener('DOMContentLoaded', function(){
  const el = document.getElementById('splash');
  if(!el) return;

  const bar  = document.getElementById('sp-bar');
  const pct  = document.getElementById('sp-pct');
  const stage= document.getElementById('sp-stage');
  const log  = document.getElementById('sp-log');

  const STAGES=["INITIALIZING","AUTHENTICATING","OPENING POKÉMON BOX","DECRYPTING","INDEXING","VALIDATING","COMPILING","FINALIZING","READY"];
  const LOGS=["> Opening Pokémon Box…","> Scanning crates…","> Decrypting research data…","> Indexing specimen files…","> Syncing field notes…","> Consolidating metadata…"];

  const D = 4000; const start = Date.now(); let lastStageIdx = 0;
  const tick = setInterval(()=>{
    const p = Math.min(1, (Date.now() - start) / D);
    const n = Math.round(p * 100);
    bar.style.width = n + "%"; pct.textContent = n + "%";
    const idx = Math.min(STAGES.length-1, Math.floor(p * STAGES.length));
    if (idx !== lastStageIdx) { stage.textContent = STAGES[idx]; lastStageIdx = idx; }
    if (n % 13 === 0) { log.textContent = LOGS[Math.floor(Math.random()*LOGS.length)]; }
    if (p >= 1) finish();
  }, 50);
  const killer = setTimeout(finish, D + 6000);
  function finish(){ clearInterval(tick); clearTimeout(killer); el.classList.add('hide'); setTimeout(()=>{ el.remove(); }, 380); }
});
</script>

<!-- 음악 토글 -->
<script>
(function(){
  const btn=document.getElementById('music-btn');
  const audio=document.getElementById('bgm');
  if(!btn||!audio) return;

  let playing=false;
  const iconPlay = '<svg viewBox="0 0 24 24" aria-hidden="true"><path d="M8 5v14l11-7z"/></svg>';
  const iconPause = '<svg viewBox="0 0 24 24" aria-hidden="true"><path d="M6 5h4v14H6zm8 0h4v14h-4z"/></svg>';

  function setState(on){
    playing=on;
    btn.setAttribute('aria-pressed', on?'true':'false');
    btn.innerHTML = (on?iconPause:iconPlay) + '<span>BGM</span>';
  }
  setState(false);

  btn.addEventListener('click', async ()=>{
    try{
      if(!playing){ await audio.play(); setState(true); }
      else { audio.pause(); setState(false); }
    }catch(e){
      alert('음원 파일(mt-moon.mp3)을 index.html과 같은 폴더에 넣어주세요.');
    }
  });
  audio.addEventListener('ended', ()=> setState(false));
})();
</script>
</body>
</html>


